<div class="edit-profile-modal" [class.open]="isOpen" (click)="onClickOutside($event)">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Editar Perfil</h2>
    </div>

    <form (ngSubmit)="onSubmit()">
      <!-- Seção de Foto -->
        <div class="photo-section">
            <div class="photo-container">
                <img [src]="photoPreview || 'assets/images/default-avatar.png'" [alt]="form.name" class="photo-preview">
                <label for="photo-upload" class="photo-edit-overlay">
                    <svg class="camera-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 15.2C13.7673 15.2 15.2 13.7673 15.2 12C15.2 10.2327 13.7673 8.8 12 8.8C10.2327 8.8 8.8 10.2327 8.8 12C8.8 13.7673 10.2327 15.2 12 15.2Z" fill="currentColor"/>
                    <path d="M9 3L7.17 5H4C2.9 5 2 5.9 2 7V19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V7C22 5.9 21.1 5 20 5H16.83L15 3H9ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17Z" fill="currentColor"/>
                    </svg>
                </label>
            </div>
        </div>

        <!-- Informações do Usuário -->
        <div class="user-info-section">
            <div class="form-group">
                <label class="form-label">Nome</label>
                <div class="readonly-field">{{form.name}}</div>
            </div>

            <div class="form-group">
                <label class="form-label">E-mail</label>
                <div class="readonly-field">{{form.email}}</div>
            </div>
        </div>

        <!-- Seção de Alteração de Senha -->
            <div class="form-group">
                <label class="form-label">Senha Atual</label>
                <input placeholder="Digite sua senha atual" type="password" class="form-input" [(ngModel)]="form.currentPassword" name="currentPassword" required>
            </div>

        <div class="form-group">
            <label class="form-label">Nova Senha</label>
            <input placeholder="Digite uma nova senha" type="password" class="form-input" [(ngModel)]="form.newPassword" name="newPassword" required>
        </div>

        <div class="form-group">
            <label class="form-label">Confirmar Nova Senha</label>
        <input placeholder="Confirme sua nova senha" type="password" class="form-input" [(ngModel)]="form.confirmPassword" name="confirmPassword">
        </div>

        <!-- Mensagens de erro/sucesso -->
        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
        <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>

        <!-- Botões -->
        <div class="button-group">
        <button type="button" class="cancel-button" (click)="close()">Cancelar</button>
        <button type="submit" class="save-button">Salvar</button>
      </div>
    </form>
  </div>
</div>